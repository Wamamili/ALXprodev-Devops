#!/bin/bash

# List of Pokémon names to fetch data for
POKEMON_NAMES=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")

# API base URL
BASE_URL="https://pokeapi.co/api/v2/pokemon/"

# Delay time in seconds between each request to avoid rate-limiting
DELAY=2

# Loop through each Pokémon name in the list
for POKEMON in "${POKEMON_NAMES[@]}"; do
  # Construct the URL for each Pokémon
  URL="${BASE_URL}${POKEMON}"

  echo "Fetching data for $POKEMON..."

  # Make the API request and save the response to a file
  RESPONSE=$(curl -s -w "%{http_code}" -o "${POKEMON}.json" "$URL")

  # Check if the request was successful
  if [ "$RESPONSE" -eq 200 ]; then
    echo "Data for $POKEMON saved to ${POKEMON}.json"
  else
    echo "Error: Failed to fetch data for $POKEMON" >> errors.txt
  fi

  # Wait for a delay to handle rate-limiting (if necessary)
  sleep $DELAY
done

echo "Data retrieval completed."
