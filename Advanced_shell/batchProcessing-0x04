#!/bin/bash
# Fetch multiple Pokémon in parallel

POKEMONS=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")
DIR="pokemon_data_parallel"
mkdir -p "$DIR"

fetch_pokemon() {
    POKEMON=$1
    if curl -s -f "https://pokeapi.co/api/v2/pokemon/$POKEMON" -o "$DIR/$POKEMON.json"; then
        echo "Saved $POKEMON ✅"
    else
        echo "Error fetching $POKEMON ❌" >> errors.txt
    fi
}

for POKEMON in "${POKEMONS[@]}"; do
    fetch_pokemon "$POKEMON" &
done

wait
echo "✅ All Pokémon data fetched in parallel!"
